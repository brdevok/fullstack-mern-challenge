"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _express=_interopRequireDefault(require("express"));var _path=_interopRequireDefault(require("path"));var _cookieParser=_interopRequireDefault(require("cookie-parser"));var _authRequired=_interopRequireDefault(require("./functions/authRequired"));var _notAuthRequired=_interopRequireDefault(require("./functions/notAuthRequired"));var _parseToken=_interopRequireDefault(require("./functions/parseToken"));var _skipApiAuth=_interopRequireDefault(require("./functions/skipApiAuth"));var _apiAuth=_interopRequireDefault(require("./functions/apiAuth"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=app=>{app.use("/public",_express.default.static(_path.default.join(__dirname,"../public")));app.use(_express.default.json());app.use(_express.default.urlencoded({extended:true}));app.use((0,_cookieParser.default)());app.use(_parseToken.default);app.use(/\/api\/pub\/([\w\W]+)/,_skipApiAuth.default);app.use(/\/api\/([\w\W]+)/,_apiAuth.default);app.use(/\/(sign-in|sign-up)(\/[\w\W]+)/,_notAuthRequired.default);app.use(/\/(profile|children|children\/([\w\W]+)|sign-out|)/,_authRequired.default)};exports.default=_default;